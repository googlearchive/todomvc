<!--
    @license
    Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
    This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
    The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
    The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
    Code distributed by Google as part of the polymer project is also
    subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="td-input" extends="input" on-keyup="{{keyupAction}}" on-keypress="{{keypressAction}}">
	<script>
		(function() {
			var ENTER_KEY = 13;
			var ESC_KEY = 27;
			Polymer('td-input', {
				keypressAction: function(e, detail, sender) {
					// Listen for enter on keypress but esc on keyup, because
					// IE doesn't fire keyup for enter.
					if (e.keyCode === ENTER_KEY) {
						this.fire('td-input-commit');
					}
				},
				keyupAction: function(e, detail, sender) {
					if (e.keyCode === ESC_KEY) {
						this.fire('td-input-cancel');
					}
				}
			});
		})();
	</script>
</polymer-element>
